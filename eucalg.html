<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <title>A visual explanation of the euclidean algorithm - </title>
  <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <style type="text/css">
    q { quotes: "“" "”" "‘" "’"; }
  </style>
      <meta name="viewport" content="width=device-width">
      <link rel="stylesheet" href="css/style.css">
      <script data-main="js/main" src="js/require.js"></script>
</head>
<body>
<div id="container">
<h1 id="a-visual-explanation-of-the-euclidean-algorithm">A visual explanation of the euclidean algorithm</h1>
<h2 id="preliminaries">Preliminaries</h2>
<p>Numbers can be classified as either <em>composite</em> or <em>prime</em>. Prime numbers have no divisors other than 1 and themselves. Composite numbers, on the other hand, can be decomposed into groupings of smaller numbers. For example, one way to represent 12 is 3 times 4. We can picture this as either 4 groups of 3 or 3 groups of 4:</p>
<figure>
<img src="images/twelve.png"><figcaption></figcaption>
</figure>
<p>There is, however, no way to factor primes like 7 into smaller groupings. Or, if you prefer, a prime number is a collection of <q>groups</q> of 1:</p>
<figure>
<img src="images/seven.png"><figcaption></figcaption>
</figure>
<p>In other words, the units in a composite number clump together into <q>families</q>, while in primes they’re all individualists.</p>
<p>The main theme in this article will be these groupings of numbers.</p>
<h2 id="the-algorithm">The algorithm</h2>
<p>Euclid’s algorithm is an algorithm for finding the greatest common divisor of two integers. Here’s a description in words:</p>
<blockquote>
<p>To find the greatest common divisor of two numbers, <strong>a</strong> and <strong>b</strong> (<strong>a</strong> &gt; <strong>b</strong>): If <strong>a</strong> is even divisible by <strong>b</strong>, the answer is <strong>b</strong>. Otherwise, if <strong>r</strong> is the remainder of <strong>a</strong> / <strong>b</strong>, then <strong>r</strong> is not zero, so the answer is the greatest common divisor of <strong>b</strong> and <strong>r</strong></p>
</blockquote>
<p>And one in pseudocode:</p>
<pre><code>function gcd(a, b):
    if ( a &lt; b ):
        return gcd(b, a)

    while (b does not divide a):
        r = a mod b
        a = b
        b = r

    return b</code></pre>
<p>Here <code>mod</code> means the result of taking <strong>a</strong> modulo <strong>b</strong>, i.e. finding the remainder after dividing <strong>a</strong> by <strong>b</strong>.</p>
<p>(Notice that the english version used a <em>recursive</em> formulation, while the pseudocode version was <em>imperative</em>. There is no practical difference.)</p>
<p>The above isn’t very intuitive to me, probably because I’m not very smart. So I made some pictures to help me understand.</p>
<h2 id="in-pictures">In pictures</h2>
<p>Let’s start with a simple example, 21 and 15. We can visualize 21 as seven groups of 3, and 15 as five groups of 3:</p>
<figure>
<img src="images/21_15.png"><figcaption></figcaption>
</figure>
<p>The euclidean algorithm says this: if we take as many 15’s out of 21 as is possible, the remainder will be some number of groups of 3.</p>
<figure>
<img src="images/21_15_rem1.png"><figcaption></figcaption>
</figure>
<p>Well golly, it seems to have worked. The right side has seven groups of 3, the left side has five groups of 3. When we take five groups away from seven groups, we’re left with two groups of 3, commonly known as 6.</p>
<p>With a remainder of 6, the algorithm then moves into the next step of finding the GCD of 15 and 6:</p>
<figure>
<img src="images/21_15_rem2.png"><figcaption></figcaption>
</figure>
<p>Instead of thinking about division and remainders, we can also think about repeatedly subtracting 6 from 15. Each time we take two groups of 3 away from 15. The steps have been marked as different colors in the above image.</p>
<p>After taking two groups of 3 from 15, then taking two more groups of 3 (i.e taking two groups of 3 <em>twice</em>), we are left with a single group of 3 on the left side.</p>
<figure>
<img src="images/21_15_rem3.png"><figcaption></figcaption>
</figure>
<p>This is where the algorithm halts. On the left side we have a single group of 3, so we can subtract it from the right side until there’s nothing left. In other words, 6 is divisible by 3, so 3 is the greatest common divider of 21 and 15 (the two numbers we started with, if you recall).</p>
<h2 id="a-recap-and-an-example-with-coprimes">A recap and an example with coprimes</h2>
<p>Notice that all of the numbers that the algorithm handled were groups of 3. We started out with groups of three and subtracted groups of 3 from one of the sides, each time resulting in another number which consisted of groups of 3. The end result was a single group of 3, which was how we knew the algorithm was done (and that the answer was <q>3</q>).</p>
<p>What happens when the groups that make up number <strong>a</strong> and number <strong>b</strong> are <em>incompatible</em>? Take, for example, 10 and 21:</p>
<figure>
<img src="images/21_10_rem1.png"><figcaption></figcaption>
</figure>
<p>We need to take two 10’s away from the right side, but in the process of doing that it is necessary to break apart one of the groups of 3 that make up 21. In fact, we aren’t subtracting groups of 3 from 21 at all, but are instead just taking 10 dots away from the right side. How we group them doesn’t appear to matter.</p>
<p>One might allege: perhaps this was just an incidental feature of the way we <em>arbitrarily chose</em> to group up the units in 21. Perhaps if we instead represent 21 as 3 groups of 7, then the euclidean algorithm won’t break a group apart:</p>
<figure>
<img src="images/21_10_rem1_reorder.png"><figcaption></figcaption>
</figure>
<p>Nope, no such luck.</p>
<p>Okay, that proves it in the case of the pair (21, 7), but do we have a generic argument for <em>any</em> pair of numbers?</p>
<p>One thing to notice is that, so far, when we execute this algorithm for numbers with incompatible groups, we are left with a single dot at the end. The situation is reminiscent of applying the algorithm to two prime numbers (which, if you recall, are numbers that cannot be grouped into smaller families of dots). Consider the example of 7 and 17:</p>
<figure>
<img src="images/7_17.png"><figcaption></figcaption>
</figure>
<p>This result makes perfect sense if you remember that prime numbers can be thought of as being composed of <q>families</q> of one dot. Each time we substract off some number of families of one dot, and the algorithm will terminate when we have only one such family left. That is, it terminates with a single dot, indicating that the greatest common divider of two prime numbers is 1.</p>
<p>However, our previous case of 10 and 21 resulted in a GCD of 1 despite neither 10 nor 21 being prime. Why?</p>
<p>As we alluded to above, 10 and 21 are said to be <strong>coprime</strong> because their groups are <q>incompatible</q>. What it really means is that 10 and 21 are a pair of numbers with gcd = 1, but intuitively, for our purposes, we can think of it like this: <em>even though the numbers themselves can be grouped up into smaller families, these families are irrelevant once we start dividing/subtracting</em>. For 10 and 21, we might as well have arranged the dots in one big circle (like we do for primes) and started subtracting, because there is no way that we can group either number into smaller families that will tell us any useful information about the division of 21 by 10.</p>
<h2 id="what-do-i-do-with-these-words-if-anything">What do I do with these words, if anything?</h2>
<p><em>This is not part of the article. These are paragraphs I wrote and then decided then didn’t fit into the above flow, but I wasn’t sure that they were useless enough to be deleted.</em></p>
<p>So we’re done, right? We’ve just explained why the euclidean algorithm furnishes the GCD, call it <strong>g</strong>, of two numbers, <strong>a</strong> and <strong>b</strong>: it’s because both of the numbers can be represented as multiples of <strong>g</strong>, so that <strong>a</strong> = <strong>j</strong> * <strong>g</strong> and <strong>b</strong> = <strong>k</strong> * <strong>g</strong> for some numbers <strong>j</strong> and <strong>k</strong>. So when you subtract <strong>k</strong> <strong>g</strong>’s from <strong>j</strong> <strong>g</strong>’s, you’re left with (<strong>j</strong> - <strong>k</strong>) <strong>g</strong>’s. <strong>So every remainder is still some number of groups of g. We never break a group up.</strong></p>
<p>So, why does it work? The standard response is that algorithm utilizes a <em>loop invariant</em>: every common divisor of <strong>a</strong> and <strong>b</strong> is also a divisor of <strong>b</strong> and <strong>r</strong>. Since the set of divisors stays constant for each iteration of the loop, and since we reduce numbers until we can’t do it any more (notice that if we did it one more step, <strong>r</strong> would be equal to 0 since <strong>b</strong> divides <strong>a</strong> after the last step in our algorithm above.) To hammer that point home: every common divisor divides <strong>r</strong>, and therefore divides <strong>b</strong> after each step, including the <strong>biggest</strong> common divisor. If we stop when <strong>b</strong> divides <strong>a</strong>, then we must be stopping when <strong>b</strong> is the greatest common divisor (because we know, at the stopping point, that at least <strong>b</strong> divides <strong>a</strong>, so the GCD must be at least as big as <strong>b</strong>. But we know it can’t be bigger than <strong>b</strong>, because the GCD also divides <strong>b</strong>).</p>
    <footer>
    <a rel="license" href="http://creativecommons.org/publicdomain/zero/1.0/">
      <img src="http://i.creativecommons.org/p/zero/1.0/88x31.png" style="border-style: none;" alt="CC0" />
    </a>
    <p xmlns:dct="http://purl.org/dc/terms/">
      To the extent possible under law, the person who associated CC0 with this work has waived all copyright and related or neighboring rights to this work.
    </p>
    </footer>
</div>
</body>
</html>
